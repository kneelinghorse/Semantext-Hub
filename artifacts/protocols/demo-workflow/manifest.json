{
  "urn": "urn:proto:workflow:demo.showcase/order-fulfillment@v1.0.0",
  "metadata": {
    "urn": "urn:proto:workflow:demo.showcase/order-fulfillment@v1.0.0",
    "name": "Demo Order Fulfillment Workflow",
    "kind": "workflow",
    "version": "1.0.0",
    "description": "Orchestrates downstream actions when an order is placed in the demo showcase.",
    "status": "approved",
    "visibility": "internal",
    "tags": ["demo", "showcase", "workflow"],
    "created_at": "2025-10-01T00:00:00Z",
    "updated_at": "2025-10-25T00:00:00Z",
    "source": {
      "type": "workbench",
      "reference": "docs/demos/showcase.md",
      "notes": "Derived from the documented showcase walkthrough."
    }
  },
  "workflow": {
    "name": "Order Fulfillment",
    "triggers": [
      {
        "type": "event",
        "event": "urn:proto:event:demo.showcase/order-placed@v1.0.0"
      }
    ],
    "steps": [
      {
        "id": "ingest-order",
        "type": "event-listener",
        "description": "Receive the order.placed event and extract order metadata.",
        "inputs": {
          "event": "urn:proto:event:demo.showcase/order-placed@v1.0.0"
        }
      },
      {
        "id": "enrich-order",
        "type": "api-call",
        "description": "Call the order API to fetch full order details.",
        "uses": "urn:proto:api:demo.showcase/order-api@v1.0.0"
      },
      {
        "id": "dispatch-notification",
        "type": "agent-invocation",
        "description": "Notify the fulfillment agent to start packing the order.",
        "uses": "urn:proto:agent:demo.showcase/fulfillment-agent@v1.0.0"
      },
      {
        "id": "emit-fulfilled-event",
        "type": "event-publish",
        "description": "Emit an order.fulfilled event when packing completes.",
        "produces": "urn:proto:event:demo.showcase/order-fulfilled@v1.0.0"
      }
    ]
  },
  "relationships": {
    "depends_on": [
      "urn:proto:event:demo.showcase/order-placed@v1.0.0",
      "urn:proto:api:demo.showcase/order-api@v1.0.0",
      "urn:proto:agent:demo.showcase/fulfillment-agent@v1.0.0"
    ],
    "consumes": ["urn:proto:event:demo.showcase/order-placed@v1.0.0"],
    "produces": ["urn:proto:event:demo.showcase/order-fulfilled@v1.0.0"]
  }
}
